{"version":3,"file":"component.js","sourceRoot":"","sources":["../../src/decorator/component.ts"],"names":[],"mappings":"AAAA,OAAO,EAAE,MAAM,EAAE,iBAAiB,EAAe,UAAU,EAAE,MAAM,aAAa,CAAC;AAClD,CAAC;AAI/B,CAAC;AAEF,MAAM,yBAA0B,SAAQ,iBAAsC;IAC1E;QACI,KAAK,CAAC,UAAU,CAAC,KAAK,EAAE,4BAA4B,CAAC,CAAC;IAC1D,CAAC;IAEM,QAAQ,CAAC,QAA6B,EAAE,MAAkB;QAC7D,IAAI,IAAI,GAAG,OAAO,CAAC,WAAW,CAAC,kBAAkB,EAAE,MAAM,CAAC,IAAI,EAAE,CAAC;QACjE,MAAM,GAAG,MAAM,CAAC,MAAM,CAAC,MAAM,EAAE,EAAE,kBAAkB,EAAE,IAAI,CAAC,GAAG,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,IAAI,CAAC,EAAE,CAAC,CAAC;QAC9E,cAAc,CAAC,MAAM,CAAC,QAAQ,CAAC,GAAG,EAAE,MAAM,CAAC,CAAC;QAC5C,OAAO,MAAM,CAAC;IAClB,CAAC;CACJ;AAAA,CAAC;AAEF,MAAM,CAAC,MAAM,SAAS,GAAG,MAAM,CAAC,SAAS,CAAsC,IAAI,kBAAkB,CAAC,CAAC","sourcesContent":["import { Mirror, AbstractDecorator, IDecoration, MirrorType } from \"@zuu/mirror\";\nimport { Class } from './util';;\n\nexport interface ComponentParameters extends IDecoration {\n    tag: string\n};\n\nexport class ComponentDecorator extends AbstractDecorator<ComponentParameters> {\n    constructor() {\n        super(MirrorType.CLASS, \"hyena.decorators.component\");\n    }\n\n    public annotate(instance: ComponentParameters, target: Class<any>) {\n        let keys = Reflect.getMetadata(\"hyena:properties\", target) || [];\n        target = Object.assign(target, { observedAttributes: keys.map(x => x.name) });\n        customElements.define(instance.tag, target);\n        return target;\n    }\n};\n\nexport const Component = Mirror.decorator<ComponentParameters, ClassDecorator>(new ComponentDecorator);"]}